<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Outfit of the Day</title>
    <style>
      /*ğŸ˜¸Styling for the bodyğŸ˜¸*/
      body {
          font-family: Arial, sans-serif;
          background: linear-gradient(to bottom right, #EDDBE1, #D8AEC9, #89B7E9, #87CEEB, #B0E0E6, #E7CBD5, #E3E29E, #DBD3CF);
          height: 100vh;
          text-align: center;
      }
      /*ğŸ˜¸Container stylingğŸ˜¸*/
      .container {
          max-width: 600px;
          margin: 0 auto;
          padding: 20px;
      }
      /*ğŸ˜¸Title stylingğŸ˜¸*/
      .title {
          font-family: serif;
          font-size: 75px;
          font-weight: bold;
          color: #2196F3;
      }
      /*ğŸ˜¸Subtitle stylingğŸ˜¸*/
      .subtitle {
          font-size: 35px;
          color: #2195F3;
      }
      /*ğŸ˜¸Input container stylingğŸ˜¸*/
      .input-container {
          margin: 20px 0;
      }
      /*ğŸ˜¸Input field stylingğŸ˜¸*/
      .input-container input {
          width: 100%;
          padding: 10px;
          font-size: 16px;
          border: 1px solid #ccc;
          border-radius: 5px;
      }
      /*ğŸ˜¸Weather icon stylingğŸ˜¸*/
      .weather-icon {
          font-size: 100px;
      }
      /*ğŸ˜¸Temperature display stylingğŸ˜¸*/
      .temperature {
          font-size: 38px;
          color: rgba(0, 0, 0, 0.68);
      }
      /*ğŸ˜¸Style for the "GENERATE OUTFIT" buttonğŸ˜¸*/
      .generate-button {
          display: inline-block;
          padding: 10px 20px;
          font-size: 18px;
          color: #fff;
          background-color: #2196F3;
          border: none;
          border-radius: 5px;
          cursor: pointer;
      }
      /*ğŸ˜¸Change button color when hoveredğŸ˜¸*/
      .generate-button:hover {
          background-color: #7c19d2;
      }
  </style>
</head>
<body>
    <!-- ğŸ˜¸The outfit recommendation interface formatğŸ˜¸ -->
    <div class="container">
        <div class="title">OUTFIT</div>
        <div class="subtitle">OF THE DAY</div>
        <div class="input-container">
            <input type="text" id="place-input" placeholder="Enter Place">
    </div>
    <div id="weather-icon" class="weather-icon">â˜ï¸</div>
        <img id="weather-gif" src="https://media.giphy.com/media/l3q2K5jinAlChoCLS/giphy.gif" alt="Weather GIF" width="300" height="200">
    <div id="temperature" class="temperature">--Â°C</div>
    <button class="generate-button" onclick="generateOutfit()">GENERATE OUTFIT</button>
    <script>
      // ğŸ˜¸Add event listener to trigger outfit generation on Enter key pressğŸ˜¸
        document.getElementById('place-input').addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                generateOutfit();
            }
        });
    </script>
    </div>

    <script>
        //ğŸ˜¸API key and default place for weather datağŸ˜¸
        const apiKey = '0ddb9f3b0e7f7686a86968ca33cfc12f';
        let temperature = '';
        let place = 'Quezon City';

        //ğŸ˜¸Add event listener to fetch weather data when city input changesğŸ˜¸
        document.getElementById('place-input').addEventListener('input', function(event) {
            place = event.target.value;
                fetchWeather();
        });

        //ğŸ˜¸Fetch weather data from OpenWeatherMap APIğŸ˜¸
        function fetchWeather() {
            fetch(`https://api.openweathermap.org/data/2.5/weather?q=${place}&appid=${apiKey}&units=metric`)
                .then(response => response.json())
                .then(data => {
                    temperature = data.main.temp.toString();
                    updateWeatherUI();
                })
            //ğŸ˜¸Handle fetch errorğŸ˜¸
            .catch(error => {
                temperature = 'Error';
                updateWeatherUI();
            });
        }

        //ğŸ˜¸Update the weather UI based on fetched datağŸ˜¸
        function updateWeatherUI() {
            const temp = parseFloat(temperature);

        //ğŸ˜¸Change weather icon and GIF based on temperature rangeğŸ˜¸
        if (temp <= 24.99) {
            weatherGif = 'https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExeW92aXJvNzMzZjc2enhhcHdvYzRuZjIwdzFuNzRwb2l6eTJjaHpvbSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3o6gDYJBQLIHFZoWL6/giphy.gif';
            weatherIcon = 'â˜”';
        } else if (temp >= 25 && temp <= 29.99) {
            weatherGif = 'https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExa3MzdjN5Zmx4dmpqNDZiY29wYXZib2gybzA1NXZzMjFpZWcydmEzNiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/VDGOdvmp1bpc3PcCry/giphy.gif';
            weatherIcon = 'â˜ï¸';
        } else if (temp >= 30) {
            weatherGif = 'https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExNHZzOGxpdWYwNzZpdmg3bDI2ZGZlaW1zb3ZydmgyYnF0bDVpMDlkMCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/x2iBOqCUFFGbFE5jpc/giphy.gif';
            weatherIcon = 'â˜€ï¸';
        } else {
            weatherGif = 'https://media.giphy.com/media/l3q2K5jinAlChoCLS/giphy.gif';
            weatherIcon = 'â“';
        }

        //ğŸ˜¸Update the DOM elements with new weather datağŸ˜¸
        document.getElementById('weather-icon').textContent = weatherIcon;
        document.getElementById('weather-gif').src = weatherGif;
        document.getElementById('temperature').textContent = `${temperature}Â°C`;
        } 

        //ğŸ˜¸Store temperature in local storage and navigate to generateOutfit.htmlğŸ˜¸
        function generateOutfit() {
            localStorage.setItem('temperature', temperature);
            window.location.href = 'generateOutfit.html';
        }

        //ğŸ˜¸Initial fetch of weather datağŸ˜¸
        fetchWeather();
    </script>
</body>
</html>
